{"ast":null,"code":"import _regeneratorRuntime from\"/Users/axelsomerseth/go/src/bills-cutter/web/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/axelsomerseth/go/src/bills-cutter/web/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectWithoutProperties from\"/Users/axelsomerseth/go/src/bills-cutter/web/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{useEffect}from\"react\";import{Route}from\"react-router-dom\";import{useAuth0}from\"../react-auth0-spa\";var PrivateRoute=function PrivateRoute(_ref){var Component=_ref.component,path=_ref.path,rest=_objectWithoutProperties(_ref,[\"component\",\"path\"]);var _useAuth=useAuth0(),loading=_useAuth.loading,isAuthenticated=_useAuth.isAuthenticated,loginWithRedirect=_useAuth.loginWithRedirect;useEffect(function(){if(loading||isAuthenticated){return;}var fn=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return loginWithRedirect({appState:{targetUrl:window.location.pathname}});case 2:case\"end\":return _context.stop();}}},_callee);}));return function fn(){return _ref2.apply(this,arguments);};}();fn();},[loading,isAuthenticated,loginWithRedirect,path]);var render=function render(props){return isAuthenticated===true?/*#__PURE__*/React.createElement(Component,props):null;};return/*#__PURE__*/React.createElement(Route,Object.assign({path:path,render:render},rest));};export default PrivateRoute;","map":{"version":3,"sources":["/Users/axelsomerseth/go/src/bills-cutter/web/src/components/PrivateRoute.js"],"names":["React","useEffect","Route","useAuth0","PrivateRoute","Component","component","path","rest","loading","isAuthenticated","loginWithRedirect","fn","appState","targetUrl","window","location","pathname","render","props"],"mappings":"8YAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,KAAT,KAAsB,kBAAtB,CACA,OAASC,QAAT,KAAyB,oBAAzB,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAA6C,IAA/BC,CAAAA,SAA+B,MAA1CC,SAA0C,CAApBC,IAAoB,MAApBA,IAAoB,CAAXC,IAAW,kEACNL,QAAQ,EADF,CACtDM,OADsD,UACtDA,OADsD,CAC7CC,eAD6C,UAC7CA,eAD6C,CAC5BC,iBAD4B,UAC5BA,iBAD4B,CAG9DV,SAAS,CAAC,UAAM,CACZ,GAAIQ,OAAO,EAAIC,eAAf,CAAgC,CAC5B,OACH,CACD,GAAME,CAAAA,EAAE,2FAAG,yJACDD,CAAAA,iBAAiB,CAAC,CACpBE,QAAQ,CAAE,CAAEC,SAAS,CAAEC,MAAM,CAACC,QAAP,CAAgBC,QAA7B,CADU,CAAD,CADhB,uDAAH,kBAAFL,CAAAA,EAAE,2CAAR,CAKAA,EAAE,GACL,CAVQ,CAUN,CAACH,OAAD,CAAUC,eAAV,CAA2BC,iBAA3B,CAA8CJ,IAA9C,CAVM,CAAT,CAYA,GAAMW,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAAAC,KAAK,QAChBT,CAAAA,eAAe,GAAK,IAApB,cAA2B,oBAAC,SAAD,CAAeS,KAAf,CAA3B,CAAsD,IADtC,EAApB,CAGA,mBAAO,oBAAC,KAAD,gBAAO,IAAI,CAAEZ,IAAb,CAAmB,MAAM,CAAEW,MAA3B,EAAuCV,IAAvC,EAAP,CACH,CAnBD,CAqBA,cAAeJ,CAAAA,YAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { useAuth0 } from \"../react-auth0-spa\";\n\nconst PrivateRoute = ({ component: Component, path, ...rest }) => {\n    const { loading, isAuthenticated, loginWithRedirect } = useAuth0();\n\n    useEffect(() => {\n        if (loading || isAuthenticated) {\n            return;\n        }\n        const fn = async () => {\n            await loginWithRedirect({\n                appState: { targetUrl: window.location.pathname }\n            });\n        };\n        fn();\n    }, [loading, isAuthenticated, loginWithRedirect, path]);\n\n    const render = props =>\n        isAuthenticated === true ? <Component {...props} /> : null;\n\n    return <Route path={path} render={render} {...rest} />;\n};\n\nexport default PrivateRoute;"]},"metadata":{},"sourceType":"module"}