(this["webpackJsonpbills-cutter"]=this["webpackJsonpbills-cutter"]||[]).push([[0],{44:function(e){e.exports=JSON.parse('{"domain":"axelsomerseth.auth0.com","clientId":"DTJ4aPrGLm1S4NwaQ6rKYIslcQPDT63O"}')},55:function(e,t,n){e.exports=n(71)},60:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(16),c=n.n(l),o=n(20),i=(n(60),n(8)),u=n(76),s=n(74),m=n(75),d=n(73),p=function(e){return e.username&&e.splitResult&&[].push({username:e.username,splitResult:e.splitResult}),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{show:e.show,onHide:e.onHide,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,autoFocus:!0,keyboard:!0},r.a.createElement(m.a.Header,{closeButton:!0},r.a.createElement(m.a.Title,{id:"contained-modal-title-vcenter"},"Results")),r.a.createElement(m.a.Body,null,"Result of your splitted bill",r.a.createElement(d.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Amount"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,1),r.a.createElement("td",null,e.username),r.a.createElement("td",null,"$ ",e.splitResult))))),r.a.createElement(m.a.Footer,null,r.a.createElement(s.a,{variant:"danger",onClick:e.onHide},"Close"))))},E=n(14),h=n.n(E),f=n(25),b=n(35),v=n(50),g=n.n(v),O=function(){return window.history.replaceState({},document.title,window.location.pathname)},y=r.a.createContext(),j=function(){return Object(a.useContext)(y)},w=function(e){var t=e.children,n=e.onRedirectCallback,l=void 0===n?O:n,c=Object(b.a)(e,["children","onRedirectCallback"]),o=Object(a.useState)(),u=Object(i.a)(o,2),s=u[0],m=u[1],d=Object(a.useState)(),p=Object(i.a)(d,2),E=p[0],v=p[1],j=Object(a.useState)(),w=Object(i.a)(j,2),k=w[0],x=w[1],C=Object(a.useState)(!0),N=Object(i.a)(C,2),S=N[0],R=N[1],P=Object(a.useState)(!1),T=Object(i.a)(P,2),A=T[0],B=T[1];Object(a.useEffect)((function(){(function(){var e=Object(f.a)(h.a.mark((function e(){var t,n,a,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g()(c);case 2:if(t=e.sent,x(t),!window.location.search.includes("code=")||!window.location.search.includes("state=")){e.next=10;break}return e.next=7,t.handleRedirectCallback();case 7:n=e.sent,a=n.appState,l(a);case 10:return e.next=12,t.isAuthenticated();case 12:if(r=e.sent,m(r),!r){e.next=19;break}return e.next=17,t.getUser();case 17:o=e.sent,v(o);case 19:R(!1);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var W=function(){var e=Object(f.a)(h.a.mark((function e(){var t,n,a=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},B(!0),e.prev=2,e.next=5,k.loginWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,B(!1),e.finish(10);case 13:return e.next=15,k.getUser();case 15:n=e.sent,v(n),m(!0);case 18:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.next=3,k.handleRedirectCallback();case 3:return e.next=5,k.getUser();case 5:t=e.sent,R(!1),m(!0),v(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(y.Provider,{value:{isAuthenticated:s,user:E,loading:S,popupOpen:A,loginWithPopup:W,handleRedirectCallback:I,getIdTokenClaims:function(){return k.getIdTokenClaims.apply(k,arguments)},loginWithRedirect:function(){return k.loginWithRedirect.apply(k,arguments)},getTokenSilently:function(){return k.getTokenSilently.apply(k,arguments)},getTokenWithPopup:function(){return k.getTokenWithPopup.apply(k,arguments)},logout:function(){return k.logout.apply(k,arguments)}}},t)},k=function(){var e=Object(a.useState)(0),t=Object(i.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)(0),o=Object(i.a)(c,2),m=o[0],d=o[1],E=Object(a.useState)("Unregistered"),h=Object(i.a)(E,2),f=h[0],b=h[1],v=Object(a.useState)(""),g=Object(i.a)(v,2),O=g[0],y=g[1],w=Object(a.useState)(0),k=Object(i.a)(w,2),x=k[0],C=k[1],N=Object(a.useState)(!1),S=Object(i.a)(N,2),R=S[0],P=S[1],T=j(),A=T.loading,B=T.user,W="http://localhost:8080/",I="POST",F="cors";Object(a.useEffect)((function(){}));return r.a.createElement(u.a,{onSubmit:function(e){e.preventDefault(),!A&&B&&b(B.nickname);var t={numberOfPeople:Number(n),billAmount:isNaN(Number(m))?0:Number(m),username:B&&B.nickname?B&&B.nickname:f,notes:O},a=W,r={method:I,mode:F,referrerPolicy:"origin-when-cross-origin",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(t)};fetch(a,r).then((function(e){return e.json()})).then((function(e){C(isNaN(e.money)?0:e.money),P(!0)}))}},r.a.createElement(u.a.Row,null,r.a.createElement(u.a.Group,{controlId:"feedForm.numberOfPeople"},r.a.createElement(u.a.Label,null,"Number of people"),r.a.createElement(u.a.Control,{as:"select",value:n,name:"numberOfPeople",onChange:function(e){return l(e.target.value)}},r.a.createElement("option",null,"Choose..."),r.a.createElement("option",null,"1"),r.a.createElement("option",null,"2"),r.a.createElement("option",null,"3"),r.a.createElement("option",null,"4"),r.a.createElement("option",null,"5"),r.a.createElement("option",null,"6"),r.a.createElement("option",null,"7"),r.a.createElement("option",null,"8"),r.a.createElement("option",null,"9")),r.a.createElement(u.a.Text,{className:"text-muted"},"Please select the quantity of people."))),r.a.createElement(u.a.Row,null,r.a.createElement(u.a.Group,{controlId:"feedForm.billAmount"},r.a.createElement(u.a.Label,null,"Bill amount"),r.a.createElement(u.a.Control,{name:"billAmount",type:"number",value:m,onChange:function(e){return d(e.target.value)}}))),r.a.createElement(u.a.Row,null,r.a.createElement(u.a.Group,{controlId:"feedForm.notes"},r.a.createElement(u.a.Label,null,"Notes"),r.a.createElement(u.a.Control,{as:"textarea",rows:"3",name:"notes",value:O,onChange:function(e){return y(e.target.value)}}))),r.a.createElement(s.a,{variant:"success",type:"submit"},"Submit"),r.a.createElement(p,{show:R,onHide:function(){return P(!1)},username:f,splitResult:x}))},x=n(22),C=n(78),N=n(77),S=function(){var e=j(),t=e.isAuthenticated,n=e.loginWithRedirect,a=e.logout;return r.a.createElement("div",null,!t&&r.a.createElement(C.a,{variant:"money"},r.a.createElement(C.a.Brand,null,r.a.createElement(x.a,{className:"link",to:"/"},"Bills Cutter"),"\xa0"),r.a.createElement(C.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(C.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(N.a,{className:"mr-auto"})),r.a.createElement(u.a,{inline:!0,className:"justify-content-end"},r.a.createElement(s.a,{variant:"outline-light",onClick:function(){return n({})}},"Log in"))),t&&r.a.createElement(C.a,{variant:"money"},r.a.createElement(C.a.Brand,null,r.a.createElement(x.a,{className:"link",to:"/"},"Bills Cutter"),"\xa0"),r.a.createElement(C.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(C.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(N.a,{className:"mr-auto"},r.a.createElement(x.a,{className:"nav-link link",to:"/profile"},"Profile"),r.a.createElement(x.a,{className:"nav-link link",to:"/history"},"History"))),r.a.createElement(u.a,{inline:!0,className:"justify-content-end"},r.a.createElement(s.a,{variant:"outline-light",onClick:function(){return a()}}," Log out "))))},R=n(79),P=function(){var e=j(),t=e.loading,n=e.user;return t||!n?r.a.createElement("div",null,"Loading..."):r.a.createElement(a.Fragment,null,r.a.createElement(R.a,{bg:"light",text:"success",className:"profile-card"},r.a.createElement(R.a.Header,{as:"h5"},"Welcome!"),r.a.createElement(R.a.Img,{variant:"top",src:n.picture,alt:"Profile"}),r.a.createElement(R.a.Body,null,r.a.createElement(R.a.Title,null,n.name),r.a.createElement(R.a.Subtitle,{className:"mb-2 text-muted"},n.email),r.a.createElement(R.a.Text,null))))},T=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],l=t[1],c="http://localhost:8080/history",o="POST",u="cors";return Object(a.useEffect)((function(){!function(){var e=c,t={method:o,mode:u,referrerPolicy:"origin-when-cross-origin",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({})};fetch(e,t).then((function(e){return e.json()})).then((function(e){var t=Array.isArray(e)&&e.length>0?e:[];l(t)}))}()}),[]),r.a.createElement(a.Fragment,null,r.a.createElement(d.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"People"),r.a.createElement("th",null,"Bill Amount"),r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Notes"))),r.a.createElement("tbody",null,n.length>0&&n.map((function(e,t){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.numberOfPeople),r.a.createElement("td",null,"$ ",e.billAmount),r.a.createElement("td",null,e.username),r.a.createElement("td",null,e.notes))})))))},A=function(e){var t=e.component,n=e.path,l=Object(b.a)(e,["component","path"]),c=j(),i=c.loading,u=c.isAuthenticated,s=c.loginWithRedirect;Object(a.useEffect)((function(){i||u||function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({appState:{targetUrl:window.location.pathname}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[i,u,s,n]);return r.a.createElement(o.a,Object.assign({path:n,render:function(e){return!0===u?r.a.createElement(t,e):null}},l))},B=n(9),W=Object(B.a)(),I=(n(70),function(){return document.title="Bills Cutter",r.a.createElement("div",{className:"App"},r.a.createElement(o.b,{history:W},r.a.createElement("header",null,r.a.createElement(S,null)),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",exact:!0},r.a.createElement("div",{id:"App-content",className:"App-content"},r.a.createElement(k,{name:"feedForm"}))),r.a.createElement(A,{path:"/profile",component:P}),r.a.createElement(A,{path:"/history",component:T}))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=n(44);c.a.render(r.a.createElement(w,{domain:F.domain,client_id:F.clientId,redirect_uri:window.location.origin,onRedirectCallback:function(e){W.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}},r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[55,1,2]]]);
//# sourceMappingURL=main.3705a01e.chunk.js.map